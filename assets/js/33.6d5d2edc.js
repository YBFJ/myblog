(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{616:function(s,t,a){"use strict";a.r(t);var e=a(3),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vue-博客部署上线之-debug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-博客部署上线之-debug"}},[s._v("#")]),s._v(" vue 博客部署上线之 debug")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("sh 文件\nsh 文件可以写很多条命令，命令由上向下依次执行。此次出现的问题是，根据课程写的是"),a("code",[s._v("yarn build:build")]),s._v("。但是无论如何不能进行 build，后来改成"),a("code",[s._v("yarn build")]),s._v("可以正常执行。有查看 package.json 中的默认命令"),a("code",[s._v('"build": "vuepress build blog :build"')]),s._v("，认为可能是版本问题。")])]),s._v(" "),a("li",[a("p",[s._v("git 的公钥私钥问题\n以前有将 GitHub 的公私钥配置完成，但是可能中间有修改 github 的密码导致我的 ssh 消失。办法是删除原有的文件，产生新的并且在 github 中添加新的 ssh，过程实在是太复杂了，附上简书的连接："),a("a",{attrs:{href:"https://www.jianshu.com/p/7d57ce4147d3",target:"_blank",rel:"noopener noreferrer"}},[s._v("配置 ssh"),a("OutboundLink")],1),s._v("。\n习得的知识是 ssh 存储在~/.ssh/id_rsa.pud 这个文件中，.ssh 是在根目录下面的隐藏文件夹。")])]),s._v(" "),a("li",[a("p",[s._v("github 生成的静态页面无法显示样式\n需要在 config.js 中加上 base 选项，因为这个静态页面并不是生成在https://ybfj.github.io\n下面的。而是加了 yig"),a("code",[s._v("/myblog")])])])]),s._v(" "),a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  base"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/myblog"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".\n└─ .blog\n   └─ config.js\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("部署完成之后 github 仓库没有更新\n需要在 deploy.sh 文件中加上 git 的代码")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 链接远程仓库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" origin https://github.com/YBFJ/myblog.git\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取远程仓库的文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull --rebase origin master\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同步更新代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -u origin master\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[a("p",[s._v("静态文件\n解决办法是阅读 vuepress 的教程中的配置"),a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/assets.html#%E5%85%AC%E5%85%B1%E6%96%87%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[s._v("静态资源的章节"),a("OutboundLink")],1),s._v("。以下的 tips 也是源于这个章节。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[s._v('如果你的网站会被部署到一个非根路径，你将需要在 .vuepress/config.js 中设置 base，举例来说，如果你打算将你的网站部署到 https://foo.github.io/bar/，那么 base 的值就应该被设置为 "/bar/" (应当总是以斜杠开始，并以斜杠结束)。')])]),s._v(" "),a("p",[s._v("我的网站被部署到根路径下面的/myblog，但是要命的是我的 base 值是"),a("code",[s._v('base: "/myblog",')]),s._v("，并没有以斜杠结束。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[s._v("最后补充一句，一个 base 路径一旦被设置，它将会自动地作为前缀插入到 .vuepress/config.js 中所有以 / 开始的资源路径中。")])]),s._v(" "),a("p",[s._v("所以说我在.vuepress/config.js 的 themeConfig 中设置我的头像，"),a("code",[s._v('authorAvatar: "/avatar.png",')]),s._v("，一直都无法正常显示，我打开控制台发现我头像那一栏 src=/myblogavatar.png。。。。。虽然改成"),a("code",[s._v('authorAvatar: "./avatar.png",')]),s._v("后能够正常显示，但是我觉得有出入，仔细阅读之后发现问题出在我的 base 配置这里，所以说下次一定要仔细阅读配置文件啊啊啊啊啊！！！！不然就是挫败感又强又浪费时间。")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);